(function(e){function t(t){for(var a,r,o=t[0],l=t[1],s=t[2],d=0,p=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(p.length)p.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,o=1;o<n.length;o++){var l=n[o];0!==i[l]&&(a=!1)}a&&(c.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},i={app:0},c=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var u=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2aa5":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function i(e,t){var n=Object(a["w"])("router-view");return Object(a["p"])(),Object(a["d"])(n)}n("b627");const c={};c.render=i;var r=c,o=n("6c02"),l={class:"home"},s=Object(a["g"])("header",null,[Object(a["g"])("h1",null,"Gallery")],-1),u=Object(a["g"])("footer",null,null,-1);function d(e,t,n,i,c,r){var o=Object(a["w"])("Tools");return Object(a["p"])(),Object(a["d"])("div",l,[s,(Object(a["p"])(),Object(a["d"])(Object(a["x"])(c.currentComponent),{onLoadPreview:r.loadPreview,onClosePreview:r.closePreview},null,8,["onLoadPreview","onClosePreview"])),Object(a["g"])(o),u])}var p=Object(a["E"])("data-v-3521412a");Object(a["s"])("data-v-3521412a");var b={class:"gallery"},v={class:"gallery-wrapper"};Object(a["q"])();var g=p((function(e,t,n,i,c,r){return Object(a["p"])(),Object(a["d"])("div",b,[Object(a["g"])("div",v,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(c.response,(function(t){return Object(a["p"])(),Object(a["d"])("div",{class:"gallery-content",key:t.id,"@click":e.$emit("LoadPreview",t.id)},[Object(a["g"])("img",{class:"gallery-image",src:"/images/"+t.id},null,8,["src"])],8,["@click"])})),128))])])})),m=(n("a9e3"),n("bc3a")),f=n.n(m),O={name:"Gallery",emits:{LoadPreview:Number},data:function(){return{response:[],errors:[]}},methods:{callRestService:function(){var e=this;f.a.get("images").then((function(t){e.response=t.data})).catch((function(t){e.errors.push(t)}))}},mounted:function(){this.callRestService()}};n("89aa");O.render=g,O.__scopeId="data-v-3521412a";var j=O,h=(n("b0c0"),Object(a["E"])("data-v-0a37c7de"));Object(a["s"])("data-v-0a37c7de");var w={class:"tools"},y={class:"preview"},C=Object(a["g"])("h3",null,"Preview an image",-1),S=Object(a["g"])("p",null,[Object(a["g"])("b",null,"Attention, ceci va bientôt disparaitre."),Object(a["g"])("br"),Object(a["f"])(" Cliquez sur l'image directement pour accéder à toutes ces options désormais. ")],-1),k={class:"input"},P={class:"double-buttons"},q=Object(a["g"])("img",{id:"img-display"},null,-1),x={class:"upload"},_=Object(a["g"])("h3",null,"Upload a new image",-1),A={class:"input"};Object(a["q"])();var T=h((function(e,t,n,i,c,r){return Object(a["p"])(),Object(a["d"])("div",w,[Object(a["g"])("div",y,[C,S,Object(a["g"])("div",k,[Object(a["D"])(Object(a["g"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.selected=t}),onChange:t[2]||(t[2]=function(e){return r.loadSelected()})},[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(c.response,(function(e){return Object(a["p"])(),Object(a["d"])("option",{key:e.id,value:e.id},Object(a["z"])(e.name),9,["value"])})),128))],544),[[a["B"],e.selected]]),Object(a["g"])("div",P,[Object(a["g"])("button",{onClick:t[3]||(t[3]=function(e){return r.downloadSelected()})},"Download"),Object(a["g"])("button",{onClick:t[4]||(t[4]=function(e){return r.deleteSelected()})},"Delete")])]),q]),Object(a["g"])("div",x,[_,Object(a["g"])("div",A,[Object(a["g"])("input",{type:"file",id:"file",ref:"file",onChange:t[5]||(t[5]=function(e){return r.handleFileUpload()})},null,544),Object(a["g"])("button",{onClick:t[6]||(t[6]=function(e){return r.submitFile()})},"Submit")])])])})),E={name:"Tools",data:function(){return{file:"",response:[],errors:[]}},methods:{callRestService:function(){var e=this;f.a.get("images").then((function(t){e.response=t.data})).catch((function(t){e.errors.push(t)}))},loadSelected:function(){var e=this,t=document.getElementById("img-display");f.a.get("images/"+this.selected,{responseType:"blob"}).then((function(e){var n=new window.FileReader;n.readAsDataURL(e.data),n.onload=function(){t.setAttribute("src",n.result)}})).catch((function(t){e.errors.push(t)}))},downloadSelected:function(){var e=this;f.a.get("images/"+this.selected,{responseType:"blob"}).then((function(e){var t=new window.FileReader;t.readAsDataURL(e.data),t.onload=function(){var e=document.createElement("a");e.href=t.result,e.setAttribute("download","image.jpg"),document.body.appendChild(e),e.click()}})).catch((function(t){e.errors.push(t)}))},deleteSelected:function(){var e=this;f.a.delete("images/"+this.selected).then((function(){location.reload()})).catch((function(t){e.errors.push(t)}))},handleFileUpload:function(){this.file=this.$refs.file.files[0]},submitFile:function(){var e=this,t=new FormData;t.append("file",this.file),f.a.post("/images",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){location.reload()})).catch((function(t){e.errors.push(t)}))}},mounted:function(){this.callRestService(),this.selected=0,this.loadSelected()}};n("e0b0");E.render=T,E.__scopeId="data-v-0a37c7de";var F=E,R=void 0,z=Object(a["E"])("data-v-463dda2e");Object(a["s"])("data-v-463dda2e");var D={class:"preview-window"},L={class:"preview-header"},U=Object(a["g"])("button",{class:"preview-link",onclick:"document.querySelector('.preview-window').style.gridTemplateColumns='100fr 350px';document.querySelector('.preview-features').style.display='block';"},[Object(a["g"])("span",{class:"material-icons"},"edit")],-1),G=Object(a["g"])("span",{class:"material-icons"},"download",-1),I=Object(a["g"])("span",{class:"material-icons"},"delete",-1),M=Object(a["g"])("span",{class:"material-icons"},"close",-1),B={class:"preview-visual"},H={class:"preview-features"},$=Object(a["g"])("b",null,"Convert to grayscale",-1),J=Object(a["g"])("input",{type:"hidden",name:"algorithm",value:"toGrayscale"},null,-1),N=Object(a["g"])("div",{class:"preview-actions"},[Object(a["g"])("input",{class:"preview-button",type:"submit",value:"To grayscale"})],-1),V=Object(a["g"])("b",null,"Apply a gain to the brightness",-1),K=Object(a["g"])("input",{type:"hidden",name:"algorithm",value:"changeBrightness"},null,-1),Q=Object(a["g"])("div",{class:"preview-actions"},[Object(a["g"])("input",{class:"preview-input",type:"number",name:"gain",min:"-255",max:"255",required:""}),Object(a["g"])("input",{class:"preview-button",type:"submit",value:"Change brightness"})],-1),W=Object(a["g"])("b",null,"Colorize by setting the hue",-1),X=Object(a["g"])("input",{type:"hidden",name:"algorithm",value:"colorize"},null,-1),Y=Object(a["g"])("div",{class:"preview-actions"},[Object(a["g"])("input",{class:"preview-input",type:"number",name:"hue",min:"0",max:"360",required:""}),Object(a["g"])("input",{class:"preview-button",type:"submit",value:"Colorize"})],-1),Z=Object(a["g"])("b",null,"Extend the dynamics",-1),ee=Object(a["g"])("input",{type:"hidden",name:"algorithm",value:"extendDynamics"},null,-1),te=Object(a["g"])("div",{class:"preview-actions"},[Object(a["g"])("input",{class:"preview-button",type:"submit",value:"Extend dynamics"})],-1),ne=Object(a["e"])('<b data-v-463dda2e>Equalize the saturation or brightness histogram</b><input type="hidden" name="algorithm" value="equalizeHistogram" data-v-463dda2e><div class="preview-actions" data-v-463dda2e><div data-v-463dda2e><label data-v-463dda2e><input class="preview-radio" type="radio" name="channel" value="1" checked data-v-463dda2e>Saturation</label><br data-v-463dda2e><label data-v-463dda2e><input class="preview-radio" type="radio" name="channel" value="2" data-v-463dda2e>Brightness</label><br data-v-463dda2e></div><input class="preview-button" type="submit" value="Equalize histogram" data-v-463dda2e></div>',3),ae=Object(a["g"])("b",null,"Mean filter",-1),ie=Object(a["g"])("input",{type:"hidden",name:"algorithm",value:"meanFilter"},null,-1),ce=Object(a["g"])("div",{class:"preview-actions"},[Object(a["g"])("input",{class:"preview-input",type:"number",name:"radius",min:"1",max:"10",required:""}),Object(a["g"])("input",{class:"preview-button",type:"submit",value:"Apply filter"})],-1),re=Object(a["g"])("b",null,"Gaussian filter",-1),oe=Object(a["g"])("input",{type:"hidden",name:"algorithm",value:"gaussianFilter"},null,-1),le=Object(a["g"])("div",{class:"preview-actions"},[Object(a["g"])("input",{class:"preview-input",type:"number",name:"radius",min:"1",max:"10",required:""}),Object(a["g"])("input",{class:"preview-button",type:"submit",value:"Apply filter"})],-1),se=Object(a["g"])("b",null,"Sobel operator",-1),ue=Object(a["g"])("input",{type:"hidden",name:"algorithm",value:"sobelOperator"},null,-1),de=Object(a["g"])("div",{class:"preview-actions"},[Object(a["g"])("input",{class:"preview-button",type:"submit",value:"Apply operator"})],-1);Object(a["q"])();var pe=z((function(e,t,n,i,c,r){return Object(a["p"])(),Object(a["d"])("div",D,[Object(a["g"])("div",L,[U,Object(a["g"])("button",{class:"preview-link",onClick:t[1]||(t[1]=function(){return R.download&&R.download.apply(R,arguments)})},[G]),Object(a["g"])("button",{class:"preview-link",onClick:t[2]||(t[2]=function(){return R.delete&&R.delete.apply(R,arguments)})},[I]),Object(a["g"])("button",{class:"preview-link",onClick:t[3]||(t[3]=function(e){return R.$emit("closePreview")})},[M])]),Object(a["g"])("div",B,[Object(a["g"])("img",{class:"preview-image",src:"/images/"+n.id,onerror:"document.querySelector('.preview-background').remove();document.querySelector('.preview-window').remove();"},null,8,["src"])]),Object(a["g"])("div",H,[Object(a["g"])("form",{class:"preview-feature",method:"get",action:"/images/"+n.id},[$,J,N],8,["action"]),Object(a["g"])("form",{class:"preview-feature",method:"get",action:"/images/"+n.id},[V,K,Q],8,["action"]),Object(a["g"])("form",{class:"preview-feature",method:"get",action:"/images/"+n.id},[W,X,Y],8,["action"]),Object(a["g"])("form",{class:"preview-feature",method:"get",action:"/images/"+n.id},[Z,ee,te],8,["action"]),Object(a["g"])("form",{class:"preview-feature",method:"get",action:"/images/"+n.id},[ne],8,["action"]),Object(a["g"])("form",{class:"preview-feature",method:"get",action:"/images/"+n.id},[ae,ie,ce],8,["action"]),Object(a["g"])("form",{class:"preview-feature",method:"get",action:"/images/"+n.id},[re,oe,le],8,["action"]),Object(a["g"])("form",{class:"preview-feature",method:"get",action:"/images/"+n.id},[se,ue,de],8,["action"])])])})),be={props:{id:Number,name:String},emits:{closePreview:null},methods:{delete:function(){f.a.delete("images/"+this.selected).then((function(){location.reload()}))},download:function(){f.a.get("images/"+this.selected,{responseType:"blob"}).then((function(e){var t=new window.FileReader;t.readAsDataURL(e.data),t.onload=function(){var e=document.createElement("a");e.href=t.result,e.setAttribute("download",name),document.body.appendChild(e),e.click()}}))}}};n("9c96");be.render=pe,be.__scopeId="data-v-463dda2e";var ve=be,ge={name:"Home",components:{Gallery:j,Tools:F,ImagePreview:ve},data:function(){return{currentComponent:void 0}},methods:{loadPreview:function(e){this.currentComponent=ve,ve.id=e},closePreview:function(){this.currentComponent=j}},mounted:function(){console.log(this.currentComponent),this.currentComponent=j,console.log(this.currentComponent)}};ge.render=d;var me=ge,fe=[{path:"/",name:"Home",component:me}],Oe=Object(o["a"])({history:Object(o["b"])("/"),routes:fe}),je=Oe;Object(a["c"])(r).use(je).mount("#app")},"6dab":function(e,t,n){},"7dfa":function(e,t,n){},"89aa":function(e,t,n){"use strict";n("ae0e")},"9c96":function(e,t,n){"use strict";n("7dfa")},ae0e:function(e,t,n){},b627:function(e,t,n){"use strict";n("2aa5")},e0b0:function(e,t,n){"use strict";n("6dab")}});
//# sourceMappingURL=app.d14b854f.js.map